# OpenAPI
mantle2.openapi:
  path: '/openapi'
  defaults:
    _controller: '\Drupal\mantle2\Controller\Schema\OpenAPIController::getSchema'
    _title: 'OpenAPI Schema'
  requirements:
    _access: 'TRUE'
  methods: [GET]
mantle2.swaggerui:
  path: '/swagger-ui'
  defaults:
    _controller: '\Drupal\mantle2\Controller\Schema\SwaggerUIController::getSwaggerUI'
    _title: 'Swagger UI'
  requirements:
    _access: 'TRUE'

# Routes
mantle2.hello:
  path: /v2/hello
  defaults:
    _controller: '\Drupal\mantle2\Controller\GeneralController::hi'
    _title: 'Hello!'
  requirements:
    _access: 'TRUE'
  options:
    tags: General
    description: Say hi to mantle2
    schema/200/type: text/plain
  methods: [GET]

mantle2.info:
  path: /v2/info
  defaults:
    _controller: '\Drupal\mantle2\Controller\GeneralController::getInfo'
    _title: 'Module Information'
  requirements:
    _access: 'TRUE'
  options:
    tags: General
    description: Retrieve information about the mantle2 Module
  methods: [GET]

## User Routes
mantle2.users:
  path: '/v2/users'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::users'
    _title: 'Retrieve User List'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Retrieves a list of Earth App users
    schema/200: users()
    schema/400: Invalid Pagination Parameters
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: asc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.login:
  path: '/v2/users/login'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::login'
    _title: 'User Login'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Log in to your Earth App account'
    schema/200: loginResponse()
    schema/400: Invalid login credentials
    schema/401: Unauthorized
  methods: [POST]

mantle2.users.logout:
  path: '/v2/users/logout'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::logout'
    _title: 'User Logout'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Log out of your Earth App account
    schema/200: logoutResponse()
    schema/401: Unauthorized
  methods: [POST]

mantle2.users.create:
  path: '/v2/users/create'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::createUser'
    _title: 'Create User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Sign up for an Earth App account
    schema/201: signupResponse()
    schema/400: Bad User Data
  methods: [POST]

mantle2.users.reset_password:
  path: '/v2/users/reset_password'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::resetPassword'
    _title: 'Reset Password'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Initiate password reset for a user by email
    schema/204: No Content
    schema/400: Bad request
    schema/429: Rate limit exceeded
    parameters:
      email:
        name: email
        in: query
        required: true
        description: Email address of user to reset password for
        schema:
          type: string
          format: email
  methods: [POST]

mantle2.users.unsubscribe:
  path: '/v2/users/unsubscribe'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::publicUnsubscribe'
    _title: 'Unsubscribe from Emails'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Unsubscribe from email notifications using a secure token (no authentication required)
    schema/200: subscriptionResponse()
    schema/400: Invalid or expired token
    parameters:
      token:
        name: token
        in: query
        required: true
        description: Secure unsubscribe token from email
        schema:
          type: string
  methods: [GET, POST]

mantle2.users.badges:
  path: '/v2/users/badges'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::allBadges'
    _title: 'All Badges'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Badges
    description: Retrieves a list of all badges
    schema/200: badges()
  methods: [GET]

#region OAuth Routes
mantle2.users.oauth.discord:
  path: '/v2/users/oauth/discord'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::oauthDiscord'
    _title: 'Discord OAuth Login'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Sign in or sign up with Discord OAuth'
    schema/200: loginResponse()
    schema/400: Invalid or missing id_token
    schema/401: Invalid OAuth token
  methods: [POST]

mantle2.users.oauth.github:
  path: '/v2/users/oauth/github'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::oauthGitHub'
    _title: 'GitHub OAuth Login'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Sign in or sign up with GitHub OAuth'
    schema/200: loginResponse()
    schema/400: Invalid or missing id_token
    schema/401: Invalid OAuth token
  methods: [POST]

mantle2.users.oauth.microsoft:
  path: '/v2/users/oauth/microsoft'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::oauthMicrosoft'
    _title: 'Microsoft OAuth Login'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Sign in or sign up with Microsoft OAuth'
    schema/200: loginResponse()
    schema/400: Invalid or missing id_token
    schema/401: Invalid OAuth token
  methods: [POST]

mantle2.users.oauth.facebook:
  path: '/v2/users/oauth/facebook'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::oauthFacebook'
    _title: 'Facebook OAuth Login'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Sign in or sign up with Facebook OAuth'
    schema/200: loginResponse()
    schema/400: Invalid or missing id_token
    schema/401: Invalid OAuth token
  methods: [POST]

mantle2.users.oauth.google:
  path: '/v2/users/oauth/google'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::oauthGoogle'
    _title: 'Google OAuth Login'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Sign in or sign up with Google OAuth'
    schema/200: loginResponse()
    schema/400: Invalid or missing id_token
    schema/401: Invalid OAuth token
  methods: [POST]

mantle2.users.oauth.discord.unlink:
  path: '/v2/users/oauth/discord'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unlinkOAuthDiscord'
    _title: 'Unlink Discord OAuth'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Unlink Discord OAuth provider from your account'
    schema/200: user()
    schema/400: Invalid or missing id_token, or cannot unlink only login method
    schema/401: Invalid OAuth token or not authenticated
  methods: [DELETE]

mantle2.users.oauth.github.unlink:
  path: '/v2/users/oauth/github'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unlinkOAuthGitHub'
    _title: 'Unlink GitHub OAuth'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Unlink GitHub OAuth provider from your account'
    schema/200: user()
    schema/400: Invalid or missing id_token, or cannot unlink only login method
    schema/401: Invalid OAuth token or not authenticated
  methods: [DELETE]

mantle2.users.oauth.microsoft.unlink:
  path: '/v2/users/oauth/microsoft'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unlinkOAuthMicrosoft'
    _title: 'Unlink Microsoft OAuth'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Unlink Microsoft OAuth provider from your account'
    schema/200: user()
    schema/400: Invalid or missing id_token, or cannot unlink only login method
    schema/401: Invalid OAuth token or not authenticated
  methods: [DELETE]

mantle2.users.oauth.facebook.unlink:
  path: '/v2/users/oauth/facebook'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unlinkOAuthFacebook'
    _title: 'Unlink Facebook OAuth'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Unlink Facebook OAuth provider from your account'
    schema/200: user()
    schema/400: Invalid or missing id_token, or cannot unlink only login method
    schema/401: Invalid OAuth token or not authenticated
  methods: [DELETE]

mantle2.users.oauth.google.unlink:
  path: '/v2/users/oauth/google'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unlinkOAuthGoogle'
    _title: 'Unlink Google OAuth'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: 'Unlink Google OAuth provider from your account'
    schema/200: user()
    schema/400: Invalid or missing id_token, or cannot unlink only login method
    schema/401: Invalid OAuth token or not authenticated
  methods: [DELETE]

#endregion

#region User - By ID
mantle2.users.id.get:
  path: '/v2/users/{id}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getUser'
    _title: 'Retrieve User by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users
    description: Retrieves user information by their identifier
    schema/200: user()
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [GET]

mantle2.users.id.patch:
  path: '/v2/users/{id}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::patchUser'
    _title: 'Update User by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users
    description: Updates user information by their identifier
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    body/description: User data to update
    body/schema: userUpdateJson()
    parameters:
      id:
        type: string
  methods: [PATCH]

mantle2.users.id.delete:
  path: '/v2/users/{id}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::deleteUser'
    _title: 'Delete User by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users
    schema/204: User deleted successfully
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [DELETE]

mantle2.users.id.patch_field_privacy:
  path: '/v2/users/{id}/field_privacy'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::patchFieldPrivacy'
    _title: 'Edit User Field Privacy by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users
    description: Updates user field privacy settings by their identifier
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    body/description: User privacy field options
    body/schema: userFieldPrivacyJson()
    parameters:
      id:
        type: string
  methods: [PATCH]

mantle2.users.id.get_profile_photo:
  path: '/v2/users/{id}/profile_photo'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getProfilePhoto'
    _title: 'Get User Profile Photo by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users
    description: Retrieves the profile photo of a user by their identifier
    schema/200/type: image/png
    schema/404: User not found
    parameters:
      id:
        type: string
    query:
      size:
        type: integer
        minimum: 32
        maximum: 1024
        default: 1024
        description: The size of the profile photo to retrieve (between 32 and 1024). Sizes that are not 32, 128, or 1024 will default to the 1024 size.
  methods: [GET]

mantle2.users.id.set_profile_photo:
  path: '/v2/users/{id}/profile_photo'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::updateProfilePhoto'
    _title: 'Set User Profile Photo by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users
    description: Updates the profile photo of a user by their identifier
    schema/200/type: image/png
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [PUT]

mantle2.users.id.set_account_type:
  path: '/v2/users/{id}/account_type'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::setAccountType'
    _title: 'Set User Account Type by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users
    description: Updates user account type by their identifier
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
    query:
      type:
        type: enum
        required: true
        enum: [free, pro, writer, organizer, administrator]
        description: The account type to assign to the user
  methods: [PUT]

mantle2.users.id.activities:
  path: '/v2/users/{id}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userActivities'
    _title: 'Get User Activities by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Activities
    description: Retrieves user activities by their identifier
    schema/200: activitiesList()
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [GET]

mantle2.users.id.activities.set:
  path: '/v2/users/{id}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::setUserActivities'
    _title: 'Set User Activities by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Activities
    description: Updates user activities by their identifier
    body/description: List of activity IDs to set for the user
    body/schema: activitiesIdList()
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [PATCH]

mantle2.users.id.activities.add:
  path: '/v2/users/{id}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserActivity'
    _title: 'Add User Activity by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Activities
    description: Updates user activities by their identifier
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Activity already added to user
    query:
      activityId:
        type: string
        description: The ID of the activity to add for the user
    parameters:
      id:
        type: string
  methods: [PUT]

mantle2.users.id.activities.remove:
  path: '/v2/users/{id}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserActivity'
    _title: 'Remove User Activity by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
    activityId: '\d+'
  options:
    tags: Users,Activities
    description: Removes a user activity by their identifier
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or activity not found
    parameters:
      id:
        type: string
    query:
      activityId:
        type: string
        description: The ID of the activity to remove for the user
  methods: [DELETE]

mantle2.users.id.activities.recommend:
  path: '/v2/users/{id}/activities/recommend'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::recommendUserActivities'
    _title: 'Recommend Activities for User by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Activities
    description: Recommends activities for the user by their identifier
    schema/200: activitiesList()
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [GET]

mantle2.users.id.friends:
  path: '/v2/users/{id}/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userFriends'
    _title: 'Get User Friends by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Friends
    description: Retrieves user friends by their identifier
    schema/200: users()
    schema/400: Bad Request
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      filter:
        type: enum
        description: The type of friends to return. Mutual friends, added friends, or non-mutual friends (friends you have added that are not mutual).
        enum: [mutual, added, non_mutual]
    parameters:
      id:
        type: string
  methods: [GET]

mantle2.users.id.friends.add:
  path: '/v2/users/{id}/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserFriend'
    _title: 'Add User Friend by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Friends
    description: Adds a friend for the user by their identifier
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Friend already added
    parameters:
      id:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to add for the user. Example: '1', '@friend'"
  methods: [PUT]

mantle2.users.id.friends.remove:
  path: '/v2/users/{id}/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserFriend'
    _title: 'Remove User Friend by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Friends
    description: Removes a friend for the user by their identifier
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or friend not found
    schema/409: Friend is not added
    parameters:
      id:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to remove for the user. Example: '1', '@friend'"
  methods: [DELETE]

mantle2.users.id.circle:
  path: '/v2/users/{id}/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userCircle'
    _title: "Get User's Circle by ID"
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Friends
    description: Retrieves a user's circle (their close friends) by their identifier
    schema/200: users()
    schema/400: Bad Request
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
    parameters:
      id:
        type: string
  methods: [GET]

mantle2.users.id.circle.add:
  path: '/v2/users/{id}/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserToCircle'
    _title: "Add User to Circle by User's ID"
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Friends
    description: Adds a user to their circle by their identifier
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Friend already added
    parameters:
      id:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to add for the user. Example: '1', '@friend'"
  methods: [PUT]

mantle2.users.id.circle.remove:
  path: '/v2/users/{id}/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserFromCircle'
    _title: "Remove User from Circle by User's ID"
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Friends
    description: Removes a user from their circle by their identifier
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or friend not found
    schema/409: Friend is not added
    parameters:
      id:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to remove for the user. Example: '1', '@friend'"
  methods: [DELETE]

mantle2.users.id.send_email_verification:
  path: '/v2/users/{id}/send_email_verification'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::sendEmailVerification'
    _title: 'Send Email Verification for User by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Email Verification
    description: Sends an email verification code to the specified user's email address
    schema/200: emailVerificationSent()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Email already verified
    parameters:
      id:
        type: string
  methods: [POST]

mantle2.users.id.verify_email:
  path: '/v2/users/{id}/verify_email'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::verifyEmail'
    _title: 'Verify Email for User by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Email Verification
    description: Verifies the specified user's email using an 8-digit verification code
    schema/200: emailVerified()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Email already verified
    parameters:
      id:
        type: string
    query:
      code:
        type: string
        pattern: '^\d{8}$'
        description: 8-digit verification code received via email
        example: '12345678'
  methods: [POST]

mantle2.users.id.change_password:
  path: '/v2/users/{id}/change_password'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::changePassword'
    _title: 'Change Password for User by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Password
    description: 'Changes password for a user using either a reset token or current password verification. OAuth-only users (without existing passwords) can set their first password without providing old_password or token.'
    schema/200: passwordChangeResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
    query:
      token:
        type: string
        description: Password reset token received via email (alternative to old_password)
        required: false
      old_password:
        type: string
        description: Current password for verification (alternative to token, not required for OAuth-only users)
        required: false
    body/schema: $passwordChangeFlexibleBody
  methods: [POST]

mantle2.users.id.subscribe:
  path: '/v2/users/{id}/subscribe'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::subscribe'
    _title: 'Subscribe User to Marketing Emails by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Subscription
    description: Subscribes a user to marketing emails. Returns 200 if already subscribed, 201 if newly subscribed.
    schema/200: subscriptionResponse()
    schema/201: subscriptionResponse()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [POST]

mantle2.users.id.unsubscribe:
  path: '/v2/users/{id}/unsubscribe'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unsubscribe'
    _title: 'Unsubscribe User from Marketing Emails by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Subscription
    description: Unsubscribes a user from marketing emails. Returns 200 if already unsubscribed, 201 if newly unsubscribed.
    schema/200: subscriptionResponse()
    schema/201: subscriptionResponse()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [POST]

mantle2.users.id.notifications:
  path: '/v2/users/{id}/notifications'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userNotifications'
    _title: 'Get User Notifications by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,User Notifications
    description: Retrieves a list of notifications for a user by their ID
    schema/200: notifications()
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [GET]

mantle2.users.id.notifications.get:
  path: '/v2/users/{id}/notifications/{notificationId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getUserNotification'
    _title: 'Get User Notification by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Retrieves a specific notification for a user by their ID
    schema/200: notification()
    schema/404: User or notification not found
    parameters:
      id:
        type: string
      notificationId:
        type: string
  methods: [GET]

mantle2.users.id.notifications.create:
  path: '/v2/users/{id}/notifications'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::createUserNotification'
    _title: 'Create User Notification by ID (Admin Only)'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,User Notifications
    description: Creates a new notification for a user by their ID (Admin Only)
    schema/201: notification()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    body/description: Notification data to create
    body/schema: userNotificationCreateJson()
    parameters:
      id:
        type: string
  methods: [POST]

mantle2.users.id.notifications.mark_all_read:
  path: '/v2/users/{id}/notifications/mark_all_read'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markAllUserNotificationsRead'
    _title: 'Mark All User Notifications as Read by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,User Notifications
    description: Marks all notifications for a user as read
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [POST]

mantle2.users.id.notifications.mark_all_unread:
  path: '/v2/users/{id}/notifications/mark_all_unread'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markAllUserNotificationsUnread'
    _title: 'Mark All User Notifications as Unread by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,User Notifications
    description: Marks all notifications for a user as unread
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [POST]

mantle2.users.id.notifications.mark_read:
  path: '/v2/users/{id}/notifications/{notificationId}/mark_read'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markUserNotificationRead'
    _title: 'Mark User Notification as Read by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Marks a specific notification for a user as read
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      id:
        type: string
      notificationId:
        type: string
  methods: [POST]

mantle2.users.id.notifications.mark_unread:
  path: '/v2/users/{id}/notifications/{notificationId}/mark_unread'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markUserNotificationUnread'
    _title: 'Mark User Notification as Unread by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Marks a specific notification for a user as unread
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      id:
        type: string
      notificationId:
        type: string
  methods: [POST]

mantle2.users.id.notifications.delete:
  path: '/v2/users/{id}/notifications/{notificationId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::deleteUserNotification'
    _title: 'Delete User Notification by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Deletes a specific notification for a user
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      id:
        type: string
      notificationId:
        type: string
  methods: [DELETE]

mantle2.users.id.notifications.clear:
  path: '/v2/users/{id}/notifications/clear'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::clearUserNotifications'
    _title: 'Clear User Notifications by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,User Notifications
    description: Clears all notifications for a user by their ID
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [DELETE]

mantle2.users.id.prompts:
  path: '/v2/users/{id}/prompts'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userPrompts'
    _title: 'Get User Prompts by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Prompts
    description: Retrieves a list of prompts created by the user
    schema/200: prompts()
    schema/401: Unauthorized
    schema/404: User not found
    parameters:
      id:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.id.articles:
  path: '/v2/users/{id}/articles'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userArticles'
    _title: 'Get User Articles by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Articles
    description: Retrieves a list of articles created by the user
    schema/200: articles()
    schema/401: Unauthorized
    schema/404: User not found
    parameters:
      id:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.id.events:
  path: '/v2/users/{id}/events'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userHostedEvents'
    _title: 'Get User Hosted Events by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Events
    description: Retrieves a list of events hosted by the user
    schema/200: events()
    schema/401: Unauthorized
    schema/404: User not found
    parameters:
      id:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.id.events.attending:
  path: '/v2/users/{id}/events/attending'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::getUserEvents'
    _title: 'Get User Attending Events by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Events
    description: 'Retrieves events the user is hosting or attending, filtered by event visibility'
    schema/200: events()
    schema/400: Invalid Pagination Parameters
    schema/404: User not found
    parameters:
      id:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.id.badges:
  path: '/v2/users/{id}/badges'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::badges'
    _title: 'Get User Badges by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
  options:
    tags: Users,Badges
    description: Retrieves a list of badges earned by the user
    schema/200: userBadges()
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [GET]

mantle2.users.id.badges.get:
  path: '/v2/users/{id}/badges/{badgeId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::badge'
    _title: 'Get User Badge by ID'
  requirements:
    _access: 'TRUE'
    id: '\d+'
    badgeId: '\d+'
  options:
    tags: Users,Badges
    description: Retrieves a specific badge earned by the user
    schema/200: userBadge()
    schema/404: User or badge not found
    parameters:
      id:
        type: string
      badgeId:
        type: string
  methods: [GET]
#endregion
#region User - By Username

mantle2.users.username.get:
  path: '/v2/users/{username}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getUser'
    _title: 'Retrieve User by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users
    description: Retrieves user information by their username
    schema/200: user()
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [GET]

mantle2.users.username.patch:
  path: '/v2/users/{username}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::patchUser'
    _title: 'Update User by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users
    description: Updates user information by their username
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    body/description: User data to update
    body/schema: userUpdateJson()
    parameters:
      username:
        type: string
  methods: [PATCH]

mantle2.users.username.delete:
  path: '/v2/users/{username}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::deleteUser'
    _title: 'Delete User by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users
    schema/204: User deleted successfully
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [DELETE]

mantle2.users.username.patch_field_privacy:
  path: '/v2/users/{username}/field_privacy'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::patchFieldPrivacy'
    _title: 'Edit User Field Privacy by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users
    description: Updates user field privacy settings by their username
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    body/description: User privacy field options
    body/schema: userFieldPrivacyJson()
    parameters:
      username:
        type: string
  methods: [PATCH]

mantle2.users.username.get_profile_photo:
  path: '/v2/users/{username}/profile_photo'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getProfilePhoto'
    _title: 'Get User Profile Photo by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users
    description: Retrieves the profile photo of a user by their username
    schema/200/type: image/png
    schema/404: User not found
    parameters:
      username:
        type: string
    query:
      size:
        type: integer
        minimum: 32
        maximum: 1024
        default: 1024
        description: The size of the profile photo to retrieve (between 32 and 1024). Sizes that are not 32, 128, or 1024 will default to the 1024 size.
  methods: [GET]

mantle2.users.username.set_profile_photo:
  path: '/v2/users/{username}/profile_photo'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::updateProfilePhoto'
    _title: 'Set User Profile Photo by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users
    description: Updates the profile photo of a user by their username
    schema/200/type: image/png
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [PUT]

mantle2.users.username.set_account_type:
  path: '/v2/users/{username}/account_type'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::setAccountType'
    _title: 'Set User Account Type by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users
    description: Updates user account type by their username
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
    query:
      type:
        type: enum
        required: true
        enum: [free, pro, writer, organizer, administrator]
        description: The account type to assign to the user
  methods: [PUT]

mantle2.users.username.activities:
  path: '/v2/users/{username}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userActivities'
    _title: 'Get User Activities by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Activities
    description: Retrieves user activities by their username
    schema/200: activitiesList()
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [GET]

mantle2.users.username.activities.set:
  path: '/v2/users/{username}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::setUserActivities'
    _title: 'Set User Activities by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Activities
    description: Updates user activities by their username
    body/description: List of activity IDs to set for the user
    body/schema: activitiesIdList()
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [PATCH]

mantle2.users.username.activities.add:
  path: '/v2/users/{username}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserActivity'
    _title: 'Add User Activity by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Activities
    description: Updates user activities by their username
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Activity already added to user
    query:
      activityId:
        type: string
        description: The ID of the activity to add for the user
    parameters:
      username:
        type: string
  methods: [PUT]

mantle2.users.username.activities.remove:
  path: '/v2/users/{username}/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserActivity'
    _title: 'Remove User Activity by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
    activityId: '\d+'
  options:
    tags: Users,Activities
    description: Removes a user activity by their identifier
    schema/200: user()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or activity not found
    parameters:
      username:
        type: string
    query:
      activityId:
        type: string
        description: The ID of the activity to remove for the user
  methods: [DELETE]

mantle2.users.username.activities.recommend:
  path: '/v2/users/{username}/activities/recommend'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::recommendUserActivities'
    _title: 'Recommend Activities for User by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Activities
    description: Recommends activities for the user by their username
    schema/200: activitiesList()
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [GET]

mantle2.users.username.friends:
  path: '/v2/users/{username}/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userFriends'
    _title: 'Get User Friends by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Friends
    description: Retrieves user friends by their username
    schema/200: users()
    schema/400: Bad Request
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      filter:
        type: enum
        description: The type of friends to return. Mutual friends, added friends, or non-mutual friends (friends you have added that are not mutual).
        enum: [mutual, added, non_mutual]
    parameters:
      username:
        type: string
  methods: [GET]

mantle2.users.username.friends.add:
  path: '/v2/users/{username}/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserFriend'
    _title: 'Add User Friend by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Friends
    description: Adds a friend for the user by their username
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Friend already added
    parameters:
      username:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to add for the user. Example: '1', '@friend'"
  methods: [PUT]

mantle2.users.username.friends.remove:
  path: '/v2/users/{username}/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserFriend'
    _title: 'Remove User Friend by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Friends
    description: Removes a friend for the user by their username
    schema/200: friendResponse()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or friend not found
    schema/409: Friend is not added
    parameters:
      username:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to remove for the user. Example: '1', '@friend'"
  methods: [DELETE]

mantle2.users.username.circle:
  path: '/v2/users/{username}/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userCircle'
    _title: "Get User's Circle by Username"
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Friends
    description: Retrieves a user's circle (their close friends) by their username
    schema/200: users()
    schema/400: Bad Request
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
    parameters:
      username:
        type: string
  methods: [GET]

mantle2.users.username.circle.add:
  path: '/v2/users/{username}/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserToCircle'
    _title: "Add User to Circle by User's Username"
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Friends
    description: Adds a user to their circle by their username
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Friend already added
    parameters:
      username:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to add for the user. Example: '1', '@friend'"
  methods: [PUT]

mantle2.users.username.circle.remove:
  path: '/v2/users/{username}/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserFromCircle'
    _title: "Remove User from Circle by User's Username"
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Friends
    description: Removes a user from their circle by their username
    schema/200: friendResponse()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or friend not found
    schema/409: Friend is not added
    parameters:
      username:
        type: string
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to remove for the user. Example: '1', '@friend'"
  methods: [DELETE]

mantle2.users.username.send_email_verification:
  path: '/v2/users/{username}/send_email_verification'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::sendEmailVerification'
    _title: 'Send Email Verification for User by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Email Verification
    description: Sends an email verification code to the specified user's email address
    schema/200: emailVerificationSent()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Email already verified
    parameters:
      username:
        type: string
  methods: [POST]

mantle2.users.username.verify_email:
  path: '/v2/users/{username}/verify_email'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::verifyEmail'
    _title: 'Verify Email for User by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Email Verification
    description: Verifies the specified user's email using an 8-digit verification code
    schema/200: emailVerified()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Email already verified
    parameters:
      username:
        type: string
    query:
      code:
        type: string
        pattern: '^\d{8}$'
        description: 8-digit verification code received via email
        example: '12345678'
  methods: [POST]

mantle2.users.username.change_password:
  path: '/v2/users/{username}/change_password'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::changePassword'
    _title: 'Change Password for User by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Password
    description: 'Changes password for a user using either a reset token or current password verification. OAuth-only users (without existing passwords) can set their first password without providing old_password or token.'
    schema/200: passwordChangeResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
    query:
      token:
        type: string
        description: Password reset token received via email (alternative to old_password)
        required: false
      old_password:
        type: string
        description: Current password for verification (alternative to token, not required for OAuth-only users)
        required: false
    body/schema: $passwordChangeFlexibleBody
  methods: [POST]

mantle2.users.username.subscribe:
  path: '/v2/users/{username}/subscribe'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::subscribe'
    _title: 'Subscribe User to Marketing Emails by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Subscription
    description: Subscribes a user to marketing emails. Returns 200 if already subscribed, 201 if newly subscribed.
    schema/200: subscriptionResponse()
    schema/201: subscriptionResponse()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [POST]

mantle2.users.username.unsubscribe:
  path: '/v2/users/{username}/unsubscribe'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unsubscribe'
    _title: 'Unsubscribe User from Marketing Emails by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Subscription
    description: Unsubscribes a user from marketing emails. Returns 200 if already unsubscribed, 201 if newly unsubscribed.
    schema/200: subscriptionResponse()
    schema/201: subscriptionResponse()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [POST]

mantle2.users.username.notifications:
  path: '/v2/users/{username}/notifications'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userNotifications'
    _title: 'Get User Notifications by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,User Notifications
    description: Retrieves a list of notifications for a user by their username
    schema/200: notifications()
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [GET]

mantle2.users.username.notifications.create:
  path: '/v2/users/{username}/notifications'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::createUserNotification'
    _title: 'Create User Notification by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,User Notifications
    description: Creates a new notification for a user by their username
    schema/201: notification()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    body/description: Notification data to create
    body/schema: userNotificationCreateJson()
    parameters:
      username:
        type: string
  methods: [POST]

mantle2.users.username.notifications.get:
  path: '/v2/users/{username}/notifications/{notificationId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getUserNotification'
    _title: 'Get User Notification by ID'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Retrieves a specific notification for a user by their ID
    schema/200: notification()
    schema/404: User or notification not found
    parameters:
      username:
        type: string
      notificationId:
        type: string
  methods: [GET]

mantle2.users.username.notifications.mark_all_read:
  path: '/v2/users/{username}/notifications/mark_all_read'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markAllUserNotificationsRead'
    _title: 'Mark All User Notifications as Read by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,User Notifications
    description: Marks all notifications for a user as read
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [POST]

mantle2.users.username.notifications.mark_all_unread:
  path: '/v2/users/{username}/notifications/mark_all_unread'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markAllUserNotificationsUnread'
    _title: 'Mark All User Notifications as Unread by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,User Notifications
    description: Marks all notifications for a user as unread
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [POST]

mantle2.users.username.notifications.mark_read:
  path: '/v2/users/{username}/notifications/{notificationId}/mark_read'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markUserNotificationRead'
    _title: 'Mark User Notification as Read by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Marks a specific notification for a user as read
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      username:
        type: string
      notificationId:
        type: string
  methods: [POST]

mantle2.users.username.notifications.mark_unread:
  path: '/v2/users/{username}/notifications/{notificationId}/mark_unread'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markUserNotificationUnread'
    _title: 'Mark User Notification as Unread by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Marks a specific notification for a user as unread
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      username:
        type: string
      notificationId:
        type: string
  methods: [POST]

mantle2.users.username.notifications.delete:
  path: '/v2/users/{username}/notifications/{notificationId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::deleteUserNotification'
    _title: 'Delete User Notification by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Deletes a specific notification for a user
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      username:
        type: string
      notificationId:
        type: string
  methods: [DELETE]

mantle2.users.username.notifications.clear:
  path: '/v2/users/{username}/notifications/clear'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::clearUserNotifications'
    _title: 'Clear User Notifications by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,User Notifications
    description: Clears all notifications for a user by their username
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [DELETE]

mantle2.users.username.prompts:
  path: '/v2/users/{username}/prompts'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userPrompts'
    _title: 'Get User Prompts by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Prompts
    description: Retrieves a list of prompts created by the user
    schema/200: prompts()
    schema/401: Unauthorized
    schema/404: User not found
    parameters:
      username:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.username.articles:
  path: '/v2/users/{username}/articles'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userArticles'
    _title: 'Get User Articles by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Articles
    description: Retrieves a list of articles created by the user
    schema/200: articles()
    schema/401: Unauthorized
    schema/404: User not found
    parameters:
      username:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.username.events:
  path: '/v2/users/{username}/events'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userHostedEvents'
    _title: 'Get User Hosted Events by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Events
    description: Retrieves a list of events hosted by the user
    schema/200: events()
    schema/401: Unauthorized
    schema/404: User not found
    parameters:
      username:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.username.events.attending:
  path: '/v2/users/{username}/events/attending'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::getUserEvents'
    _title: 'Get User Attending Events by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Events
    description: Retrieves a list of events the user is hosting or attending
    schema/200: events()
    schema/401: Unauthorized
    schema/404: User not found
    parameters:
      username:
        type: string
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.username.badges:
  path: '/v2/users/{username}/badges'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::badges'
    _title: 'Get User Badges by ID'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
  options:
    tags: Users,Badges
    description: Retrieves a list of badges earned by the user
    schema/200: userBadges()
    schema/404: User not found
    parameters:
      username:
        type: string
  methods: [GET]

mantle2.users.username.badges.get:
  path: '/v2/users/{username}/badges/{badgeId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::badge'
    _title: 'Get User Badge by Username'
  requirements:
    _access: 'TRUE'
    username: '@[\w.]+'
    badgeId: '\d+'
  options:
    tags: Users,Badges
    description: Retrieves a specific badge earned by the user
    schema/200: userBadge()
    schema/404: User or badge not found
    parameters:
      username:
        type: string
      badgeId:
        type: string
  methods: [GET]
#endregion
#region User - Current User

mantle2.users.current.get:
  path: '/v2/users/current'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getUser'
    _title: 'Retrieve Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Retrieves the current user according to the session ID
    schema/200: user()
    schema/401: Unauthorized
    schema/404: User not found
  methods: [GET]

mantle2.users.current.patch:
  path: '/v2/users/current'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::patchUser'
    _title: 'Update Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Updates the current user according to the session ID
    schema/200: user()
    schema/400: Bad Request
    schema/404: User not found
    body/description: User data to update
    body/schema: userUpdateJson()
  methods: [PATCH]

mantle2.users.current.delete:
  path: '/v2/users/current'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::deleteUser'
    _title: 'Delete Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Deletes the current user according to the session ID
    schema/401: Unauthorized
    schema/204: User deleted successfully
  methods: [DELETE]

mantle2.users.current.patch_field_privacy:
  path: '/v2/users/current/field_privacy'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::patchFieldPrivacy'
    _title: 'Edit Current User Field Privacy'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Updates user field privacy settings according to the session ID
    schema/200: user()
    schema/401: Unauthorized
    schema/404: User not found
    body/description: User privacy field options
    body/schema: userFieldPrivacyJson()
  methods: [PATCH]

mantle2.users.current.get_profile_photo:
  path: '/v2/users/current/profile_photo'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getProfilePhoto'
    _title: 'Get Current User Profile Photo'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Retrieves the profile photo of a user according to the session ID
    schema/200/type: image/png
    schema/404: User not found
    query:
      size:
        type: integer
        minimum: 32
        maximum: 1024
        default: 1024
        description: The size of the profile photo to retrieve (between 32 and 1024). Sizes that are not 32, 128, or 1024 will default to the 1024 size.
  methods: [GET]

mantle2.users.current.set_profile_photo:
  path: '/v2/users/current/profile_photo'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::updateProfilePhoto'
    _title: 'Set Current User Profile Photo'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Updates the profile photo of a user according to the session ID
    schema/200/type: image/png
    schema/401: Unauthorized
    schema/404: User not found
  methods: [PUT]

mantle2.users.current.set_account_type:
  path: '/v2/users/current/account_type'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::setAccountType'
    _title: 'Set Current User Account Type'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users
    description: Updates user account type according to the session ID
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    query:
      type:
        type: enum
        required: true
        enum: [free, pro, writer, organizer, administrator]
        description: The account type to assign to the user
  methods: [PUT]

mantle2.users.current.activities:
  path: '/v2/users/current/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userActivities'
    _title: 'Get Current User Activities'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Activities
    description: Retrieves user activities according to the session ID
    schema/200: activitiesList()
    schema/401: Unauthorized
    schema/404: User not found
  methods: [GET]

mantle2.users.current.activities.set:
  path: '/v2/users/current/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::setUserActivities'
    _title: 'Set Current User Activities'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Activities
    description: Updates user activities according to the session ID
    body/description: List of activity IDs to set for the user
    body/schema: activitiesIdList()
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
  methods: [PATCH]

mantle2.users.current.activities.add:
  path: '/v2/users/current/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserActivity'
    _title: 'Add Activity to Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Activities
    description: Updates user activities according to the session ID
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Activity already added to user
    query:
      activityId:
        type: string
        description: The ID of the activity to add for the user
  methods: [PUT]

mantle2.users.current.activities.remove:
  path: '/v2/users/current/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserActivity'
    _title: 'Remove Activity from Current User'
  requirements:
    _access: 'TRUE'
    activityId: '\d+'
  options:
    tags: Users,Activities
    description: Removes a user activity by their identifier
    schema/200: user()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or activity not found
    query:
      activityId:
        type: string
        description: The ID of the activity to remove for the user
  methods: [DELETE]

mantle2.users.current.activities.recommend:
  path: '/v2/users/current/activities/recommend'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::recommendUserActivities'
    _title: 'Recommend Activities for Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Activities
    description: Recommends activities for the user according to the session ID
    schema/200: activitiesList()
    schema/404: User not found
    query:
      poolLimit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of activities to consider for recommendation
  methods: [GET]

mantle2.users.current.friends:
  path: '/v2/users/current/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userFriends'
    _title: 'Get Current User Friends'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Friends
    description: Retrieves user friends according to the session ID
    schema/200: users()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      filter:
        type: enum
        description: The type of friends to return. Mutual friends, added friends, or non-mutual friends (friends you have added that are not mutual).
        enum: [mutual, added, non_mutual]
  methods: [GET]

mantle2.users.current.friends.add:
  path: '/v2/users/current/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserFriend'
    _title: 'Add Friend to Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Friends
    description: Adds a friend for the user based on the session ID
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Friend already added
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to add for the user. Example: '1', '@friend'"
  methods: [PUT]

mantle2.users.current.friends.remove:
  path: '/v2/users/current/friends'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserFriend'
    _title: 'Remove Friend from Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Friends
    description: Removes a friend for the user based on the session ID
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or friend not found
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to remove for the user. Example: '1', '@friend'"
  methods: [DELETE]

mantle2.users.current.circle:
  path: '/v2/users/current/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userCircle'
    _title: "Get Current User's Circle"
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Friends
    description: Retrieves a user's circle (their close friends) according to the session ID
    schema/200: users()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
  methods: [GET]

mantle2.users.current.circle.add:
  path: '/v2/users/current/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::addUserToCircle'
    _title: "Add User to Current User's Circle"
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Friends
    description: Adds a user to the current user's circle based on the session ID
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    schema/409: Friend already added
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to add for the user. Example: '1', '@friend'"
  methods: [PUT]

mantle2.users.current.circle.remove:
  path: '/v2/users/current/circle'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::removeUserFromCircle'
    _title: 'Remove User from Current User Circle'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Friends
    description: Removes a user from the current user's circle based on the session ID
    schema/200: friendResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or friend not found
    query:
      friend:
        type: string
        description: "The ID or Username of the friend to remove for the user. Example: '1', '@friend'"
  methods: [DELETE]

mantle2.users.current.send_email_verification:
  path: '/v2/users/current/send_email_verification'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::sendEmailVerification'
    _title: 'Send Email Verification for Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Email Verification
    description: Sends an email verification code to the current user's email address
    schema/200: emailVerificationSent()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/409: Email already verified
  methods: [POST]

mantle2.users.current.verify_email:
  path: '/v2/users/current/verify_email'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::verifyEmail'
    _title: 'Verify Email for Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Email Verification
    description: Verifies the current user's email using an 8-digit verification code
    schema/200: emailVerified()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/409: Email already verified
    query:
      code:
        type: string
        pattern: '^\d{8}$'
        description: 8-digit verification code received via email
        example: '12345678'
  methods: [POST]

mantle2.users.current.change_password:
  path: '/v2/users/current/change_password'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::changePassword'
    _title: 'Change Password for Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Password
    description: 'Changes password for the current user using either a reset token or current password verification. OAuth-only users (without existing passwords) can set their first password without providing old_password or token.'
    schema/200: passwordChangeResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/409: Email already verified
    query:
      token:
        type: string
        description: Password reset token received via email (alternative to old_password)
        required: false
      old_password:
        type: string
        description: Current password for verification (alternative to token, not required for OAuth-only users)
        required: false
    body/schema: $passwordChangeFlexibleBody
  methods: [POST]

mantle2.users.current.subscribe:
  path: '/v2/users/current/subscribe'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::subscribe'
    _title: 'Subscribe Current User to Marketing Emails'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Subscription
    description: Subscribes the current user to marketing emails. Returns 200 if already subscribed, 201 if newly subscribed.
    schema/200: subscriptionResponse()
    schema/201: subscriptionResponse()
    schema/401: Unauthorized
  methods: [POST]

mantle2.users.current.unsubscribe:
  path: '/v2/users/current/unsubscribe'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::unsubscribe'
    _title: 'Unsubscribe Current User from Marketing Emails'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Subscription
    description: Unsubscribes the current user from marketing emails. Returns 200 if already unsubscribed, 201 if newly unsubscribed.
    schema/200: subscriptionResponse()
    schema/201: subscriptionResponse()
    schema/401: Unauthorized
  methods: [POST]

mantle2.users.current.notifications:
  path: '/v2/users/current/notifications'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userNotifications'
    _title: 'Get Current User Notifications'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,User Notifications
    description: Retrieves a list of notifications for the current user
    schema/200: notifications()
    schema/404: User not found
  methods: [GET]

mantle2.users.current.notifications.get:
  path: '/v2/users/current/notifications/{notificationId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::getUserNotification'
    _title: 'Get Current User Notification by ID'
  requirements:
    _access: 'TRUE'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Retrieves a specific notification for the current user by their ID
    schema/200: notification()
    schema/404: User or notification not found
    parameters:
      notificationId:
        type: string
  methods: [GET]

mantle2.users.current.notifications.mark_all_read:
  path: '/v2/users/current/notifications/mark_all_read'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markAllUserNotificationsRead'
    _title: 'Mark All Current User Notifications as Read'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,User Notifications
    description: Marks all notifications for the current user as read
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
  methods: [POST]

mantle2.users.current.notifications.mark_all_unread:
  path: '/v2/users/current/notifications/mark_all_unread'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markAllUserNotificationsUnread'
    _title: 'Mark All Current User Notifications as Unread'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,User Notifications
    description: Marks all notifications for the current user as unread
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
  methods: [POST]

mantle2.users.current.notifications.mark_read:
  path: '/v2/users/current/notifications/{notificationId}/mark_read'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markUserNotificationRead'
    _title: 'Mark Current User Notifications as Read by ID'
  requirements:
    _access: 'TRUE'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Marks a specific notification for the current user as read
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      notificationId:
        type: string
  methods: [POST]

mantle2.users.current.notifications.mark_unread:
  path: '/v2/users/current/notifications/{notificationId}/mark_unread'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::markUserNotificationUnread'
    _title: 'Mark Current User Notification as Unread by ID'
  requirements:
    _access: 'TRUE'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Marks a specific notification for the current user as unread
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      notificationId:
        type: string
  methods: [POST]

mantle2.users.current.notifications.delete:
  path: '/v2/users/current/notifications/{notificationId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::deleteUserNotification'
    _title: 'Delete Current User Notification by ID'
  requirements:
    _access: 'TRUE'
    notificationId: '^[0-9a-f]{32}$'
  options:
    tags: Users,User Notifications
    description: Deletes a specific notification for the current user
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User or notification not found
    parameters:
      notificationId:
        type: string
  methods: [DELETE]

mantle2.users.current.notifications.clear:
  path: '/v2/users/current/notifications/clear'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::clearUserNotifications'
    _title: 'Clear Current User Notifications'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,User Notifications
    description: Clears all notifications for the current user
    schema/204: No Content
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: User not found
    parameters:
      id:
        type: string
  methods: [DELETE]

mantle2.users.current.prompts:
  path: '/v2/users/current/prompts'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userPrompts'
    _title: 'Get Current User Prompts'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Prompts
    description: Retrieves a list of prompts created by the current user
    schema/200: prompts()
    schema/401: Unauthorized
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.current.articles:
  path: '/v2/users/current/articles'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userArticles'
    _title: 'Get Current User Articles'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Articles
    description: Retrieves a list of articles created by the current user
    schema/200: articles()
    schema/401: Unauthorized
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.current.events:
  path: '/v2/users/current/events'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::userHostedEvents'
    _title: 'Get Current User Hosted Events'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Events
    description: Retrieves a list of events hosted by the current user
    schema/200: events()
    schema/401: Unauthorized
    schema/404: User not found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.current.events.attending:
  path: '/v2/users/current/events/attending'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::getUserEvents'
    _title: 'Get Current User Attending Events'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Events
    description: 'Retrieves events the current user is hosting or attending'
    schema/200: events()
    schema/400: Invalid Pagination Parameters
    schema/401: Unauthorized
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.users.current.badges:
  path: '/v2/users/current/badges'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::badges'
    _title: 'Get User Badges by Current User'
  requirements:
    _access: 'TRUE'
  options:
    tags: Users,Badges
    description: Retrieves a list of badges earned by the user
    schema/200: userBadges()
    schema/404: User not found
  methods: [GET]

mantle2.users.current.badges.get:
  path: '/v2/users/current/badges/{badgeId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\UsersController::badge'
    _title: 'Get User Badge by Current User'
  requirements:
    _access: 'TRUE'
    badgeId: '\d+'
  options:
    tags: Users,Badges
    description: Retrieves a specific badge earned by the user
    schema/200: userBadge()
    schema/404: User or badge not found
    parameters:
      badgeId:
        type: string
  methods: [GET]
#endregion

## Activity Routes
mantle2.activities:
  path: '/v2/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ActivityController::activities'
    _title: 'List Activities'
  requirements:
    _access: 'TRUE'
  options:
    tags: Activities
    description: Retrieves a list of activities
    schema/200: activities()
    schema/401: Unauthorized
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: asc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.activities.random:
  path: '/v2/activities/random'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ActivityController::randomActivity'
    _title: 'Get Random Activity'
  requirements:
    _access: 'TRUE'
  options:
    tags: Activities
    description: Retrieves random activities
    schema/200: activitiesList()
    schema/404: Activity not found
    query:
      count:
        type: integer
        minimum: 1
        maximum: 10
        default: 3
        description: The number of random activities to retrieve
  methods: [GET]

mantle2.activities.get:
  path: '/v2/activities/{activityId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ActivityController::getActivity'
    _title: 'Get Activity by ID'
  requirements:
    _access: 'TRUE'
    activityId: '[^/]+'
  options:
    tags: Activities
    description: Retrieves a specific activity by ID
    schema/200: activity()
    schema/404: Activity not found
    parameters:
      activityId:
        type: string
        description: The ID of the activity to retrieve
    query:
      include_aliases:
        type: boolean
        default: false
        description: Whether to include activity aliases in the response
  methods: [GET]

mantle2.activities.update:
  path: '/v2/activities/{activityId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ActivityController::updateActivity'
    _title: 'Update Activity [Admin Only]'
  requirements:
    _access: 'TRUE'
    activityId: '[^/]+'
  options:
    tags: Activities
    description: Updates an existing activity
    schema/200: activity()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Activity not found
    body/description: Activity data to update
    body/schema: activityUpdate()
    parameters:
      activityId:
        type: integer
        description: The ID of the activity to update
  methods: [PATCH]

mantle2.activities.delete:
  path: '/v2/activities/{activityId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ActivityController::deleteActivity'
    _title: 'Delete Activity [Admin Only]'
  requirements:
    _access: 'TRUE'
    activityId: '[^/]+'
  options:
    tags: Activities
    description: Deletes an existing activity
    schema/204: No Content
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Activity not found
    parameters:
      activityId:
        type: string
        description: The ID of the activity to retrieve
  methods: [DELETE]

mantle2.activities.create:
  path: '/v2/activities'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ActivityController::createActivity'
    _title: 'Create Activity [Admin Only]'
  requirements:
    _access: 'TRUE'
  options:
    tags: Activities
    description: Creates a new activity
    schema/201: activity()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/409: Activity already exists
    body/schema: activityCreate()
    body/description: Activity data to create
  methods: [POST]

mantle2.activities.list:
  path: '/v2/activities/list'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ActivityController::listActivities'
    _title: 'List Activities as an array of IDs'
  requirements:
    _access: 'TRUE'
  options:
    tags: Activities
    description: Retrieves a list of activities as an array of IDs
    schema/200: activitiesIds()
    schema/404: Activities not found
  methods: [GET]

## Event Routes

mantle2.events:
  path: '/v2/events'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::events'
    _title: 'List Events'
  requirements:
    _access: 'TRUE'
  options:
    tags: Events
    description: Retrieves a list of events
    schema/200: events()
    schema/400: Invalid Pagination Parameters
    schema/401: Unauthorized
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: asc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.events.random:
  path: '/v2/events/random'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::randomEvent'
    _title: 'Get Random Events'
  requirements:
    _access: 'TRUE'
  options:
    tags: Events
    description: Retrieves random events
    schema/200: eventsList()
    schema/404: No events found
    query:
      count:
        type: integer
        minimum: 1
        maximum: 25
        default: 5
        description: The number of random events to retrieve
  methods: [GET]

mantle2.events.create:
  path: '/v2/events'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::createEvent'
    _title: 'Create Event'
  requirements:
    _access: 'TRUE'
  options:
    tags: Events
    description: Creates a new event
    schema/201: event()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/402: Account Upgrade Required
    schema/403: Forbidden
    body/schema: eventCreate()
    body/description: Event data to create
  methods: [POST]

mantle2.events.get:
  path: '/v2/events/{eventId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::getEvent'
    _title: 'Get Event'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Retrieves a specific event by ID
    schema/200: event()
    schema/404: Event not found
    parameters:
      eventId:
        type: integer
        description: The ID of the event to retrieve
  methods: [GET]

mantle2.events.update:
  path: '/v2/events/{eventId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::updateEvent'
    _title: 'Update Event'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Updates an existing event
    schema/200: event()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/402: Account Upgrade Required
    schema/403: Forbidden
    schema/404: Event not found
    body/description: Event data to update
    body/schema: eventUpdate()
    parameters:
      eventId:
        type: integer
        description: The ID of the event to update
  methods: [PATCH]

mantle2.events.delete:
  path: '/v2/events/{eventId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::deleteEvent'
    _title: 'Delete Event'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Deletes an existing event
    schema/204: Event deleted successfully
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Event not found
    parameters:
      eventId:
        type: integer
        description: The ID of the event to delete
  methods: [DELETE]

mantle2.events.get.attendees:
  path: '/v2/events/{eventId}/attendees'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::getEventAttendees'
    _title: 'Get Event Attendees'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Retrieves a list of attendees for a specific event
    schema/200: users()
    schema/404: Event not found
    parameters:
      eventId:
        type: integer
        description: The ID of the event to retrieve attendees for
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
  methods: [GET]

mantle2.events.signup:
  path: '/v2/events/{eventId}/signup'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::signupForEvent'
    _title: 'Sign Up for Event'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Signs up the logged in user for a specific event
    schema/200: attendeeResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Event not found
    parameters:
      eventId:
        type: integer
        description: The ID of the event to sign up for
  methods: [POST]

mantle2.events.leave:
  path: '/v2/events/{eventId}/leave'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::leaveEvent'
    _title: 'Cancel Signup for Event'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Cancels the logged in user's signup for a specific event
    schema/200: attendeeResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Event not found
    parameters:
      eventId:
        type: integer
        description: The ID of the event to cancel signup for
  methods: [POST]

mantle2.events.cancel:
  path: '/v2/events/{eventId}/cancel'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::cancelEvent'
    _title: 'Cancel Event'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Cancels an event (only accessible by the host or admin)
    schema/200: event()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Event not found
    parameters:
      eventId:
        type: integer
        description: The ID of the event to cancel
  methods: [POST]

mantle2.events.uncancel:
  path: '/v2/events/{eventId}/uncancel'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::uncancelEvent'
    _title: 'Uncancel Event'
  requirements:
    _access: 'TRUE'
    eventId: \d+
  options:
    tags: Events
    description: Reinstates a cancelled event (only accessible by the host or admin)
    schema/200: event()
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Event not found
    parameters:
      eventId:
        type: integer
        description: The ID of the event to reinstate
  methods: [POST]

mantle2.events.current:
  path: '/v2/events/current'
  defaults:
    _controller: '\Drupal\mantle2\Controller\EventsController::getUserEvents'
    _title: 'Get Current User Events'
  requirements:
    _access: 'TRUE'
  options:
    tags: Events,Users
    description: Retrieves events the current user is hosting or attending
    schema/200: events()
    schema/400: Invalid Pagination Parameters
    schema/401: Unauthorized
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: desc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

## Prompt Routes
mantle2.prompts:
  path: '/v2/prompts'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::prompts'
    _title: 'List Prompts'
  requirements:
    _access: 'TRUE'
  options:
    tags: Prompts
    description: Retrieves a list of prompts
    schema/200: prompts()
    schema/401: Unauthorized
  methods: [GET]

mantle2.prompts.create:
  path: '/v2/prompts'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::createPrompt'
    _title: 'Create Prompt'
  requirements:
    _access: 'TRUE'
  options:
    tags: Prompts
    description: Creates a new prompt
    schema/201: prompt()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/402: Account Upgrade Required
    schema/403: Forbidden
    body/schema: promptCreate()
    body/description: Prompt data to create
  methods: [POST]

mantle2.prompts.random:
  path: '/v2/prompts/random'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::randomPrompt'
    _title: 'Get Random Prompts'
  requirements:
    _access: 'TRUE'
  options:
    tags: Prompts
    description: Retrieves random prompts
    schema/200: promptsList()
    schema/404: Not Found
    query:
      count:
        type: integer
        minimum: 1
        maximum: 25
        default: 10
        description: The number of random prompts to retrieve
  methods: [GET]

mantle2.prompts.get:
  path: '/v2/prompts/{prompt}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::getPrompt'
    _title: 'Get Prompt'
  requirements:
    _access: 'TRUE'
    prompt: \d+
  options:
    tags: Prompts
    description: Retrieves a specific prompt
    schema/200: prompt()
    schema/404: Not Found
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to retrieve
  methods: [GET]

mantle2.prompts.update:
  path: '/v2/prompts/{prompt}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::updatePrompt'
    _title: 'Update Prompt'
  requirements:
    _access: 'TRUE'
    prompt: \d+
  options:
    tags: Prompts
    description: Updates a specific prompt
    schema/200: prompt()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
    body/schema: promptCreate()
    body/description: Prompt data to update
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to update
  methods: [PATCH]

mantle2.prompts.delete:
  path: '/v2/prompts/{prompt}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::deletePrompt'
    _title: 'Delete Prompt'
  requirements:
    _access: 'TRUE'
    prompt: \d+
  options:
    tags: Prompts
    description: Deletes a specific prompt
    schema/204: No Content
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to delete
  methods: [DELETE]

mantle2.prompts.responses:
  path: '/v2/prompts/{prompt}/responses'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::getPromptResponses'
    _title: 'Get Prompt Responses'
  requirements:
    _access: 'TRUE'
    prompt: \d+
  options:
    tags: Prompts
    description: Retrieves responses for a specific prompt
    schema/200: promptResponses()
    schema/404: Not Found
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to retrieve responses for
  methods: [GET]

mantle2.prompts.responses.create:
  path: '/v2/prompts/{prompt}/responses'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::createPromptResponse'
    _title: 'Create Prompt Response'
  requirements:
    _access: 'TRUE'
    prompt: \d+
  options:
    tags: Prompts
    description: Creates a new response for a specific prompt
    schema/201: promptResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
    body/schema: $promptResponseBody
    body/description: Prompt response data to create
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to create a response for
  methods: [POST]

mantle2.prompts.responses.get:
  path: '/v2/prompts/{prompt}/responses/{response}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::getPromptResponse'
    _title: 'Get Prompt Response'
  requirements:
    _access: 'TRUE'
    prompt: \d+
    response: \d+
  options:
    tags: Prompts
    description: Retrieves a specific response for a prompt
    schema/200: promptResponse()
    schema/404: Not Found
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to retrieve a response for
      response:
        type: entity:comment
        description: The ID of the response to retrieve
  methods: [GET]

mantle2.prompts.responses.update:
  path: '/v2/prompts/{prompt}/responses/{response}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::updatePromptResponse'
    _title: 'Update Prompt Response'
  requirements:
    _access: 'TRUE'
    prompt: \d+
    response: \d+
  options:
    tags: Prompts
    description: Updates a specific response for a prompt
    schema/200: promptResponse()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
    body/schema: $promptResponseBody
    body/description: Prompt response data to update
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to update a response for
      response:
        type: entity:comment
        description: The ID of the response to update
  methods: [PATCH]

mantle2.prompts.responses.delete:
  path: '/v2/prompts/{prompt}/responses/{response}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::deletePromptResponse'
    _title: 'Delete Prompt Response'
  requirements:
    _access: 'TRUE'
    prompt: \d+
    response: \d+
  options:
    tags: Prompts
    description: Deletes a specific response for a prompt
    schema/204: No Content
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
    parameters:
      prompt:
        type: entity:node
        description: The ID of the prompt to delete a response for
      response:
        type: entity:comment
        description: The ID of the response to delete
  methods: [DELETE]

mantle2.prompts.check_expired:
  path: '/v2/prompts/check_expired'
  defaults:
    _controller: '\Drupal\mantle2\Controller\PromptsController::checkExpiredPrompts'
    _title: 'Check Expired Prompts [Admin Only]'
  requirements:
    _access: 'TRUE'
  options:
    tags: Prompts
    description: Checks for expired prompts
    schema/204: No Content
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
  methods: [POST]

## Articles Routes
mantle2.articles:
  path: '/v2/articles'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::articles'
    _title: 'List Articles'
  requirements:
    _access: 'TRUE'
  options:
    tags: Articles
    description: Lists all articles
    schema/200: articles()
    schema/404: Not Found
    query:
      limit:
        type: integer
        minimum: 1
        maximum: 100
        default: 25
        description: The number of results to return per page
      page:
        type: integer
        minimum: 1
        default: 1
        description: The page number to retrieve
      search:
        type: string
        default: ''
        description: The search term to filter results
      sort:
        type: string
        enum: [asc, desc, rand]
        default: asc
        description: 'Sort order: asc (ascending/oldest first), desc (descending/newest first), rand (random)'
  methods: [GET]

mantle2.articles.random:
  path: '/v2/articles/random'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::randomArticle'
    _title: 'Random Articles'
  requirements:
    _access: 'TRUE'
  options:
    tags: Articles
    description: Retrieves random articles
    schema/200: articlesList()
    schema/404: Not Found
    query:
      count:
        type: integer
        minimum: 1
        maximum: 15
        default: 3
        description: The number of random articles to retrieve
  methods: [GET]

mantle2.articles.create:
  path: '/v2/articles'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::createArticle'
    _title: 'Create Article'
  requirements:
    _access: 'TRUE'
  options:
    tags: Articles
    description: Creates a new article
    schema/201: article()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    body/schema: articleCreate()
    body/description: Article data to create
  methods: [POST]

mantle2.articles.get:
  path: '/v2/articles/{articleId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::getArticle'
    _title: 'Get Article'
  requirements:
    _access: 'TRUE'
    articleId: \d+
  options:
    tags: Articles
    description: Retrieves a specific article
    schema/200: article()
    schema/404: Not Found
    parameters:
      articleId:
        type: entity:node
        description: The ID of the article to retrieve
  methods: [GET]

mantle2.articles.get.quiz:
  path: '/v2/articles/{articleId}/quiz'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::getArticleQuiz'
    _title: 'Get Article Quiz'
  requirements:
    _access: 'TRUE'
    articleId: \d+
  options:
    tags: Articles
    description: Retrieves the quiz associated with a specific article
    schema/200: articleQuiz()
    schema/404: Not Found
    parameters:
      articleId:
        type: entity:node
        description: The ID of the article to retrieve the quiz for
  methods: [GET]

mantle2.articles.update:
  path: '/v2/articles/{articleId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::updateArticle'
    _title: 'Update Article'
  requirements:
    _access: 'TRUE'
    articleId: \d+
  options:
    tags: Articles
    description: Updates a specific article
    schema/200: article()
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
    body/schema: $articleBody
    body/description: Article data to update
    parameters:
      articleId:
        type: entity:node
        description: The ID of the article to update
  methods: [PATCH]

mantle2.articles.delete:
  path: '/v2/articles/{articleId}'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::deleteArticle'
    _title: 'Delete Article'
  requirements:
    _access: 'TRUE'
    articleId: \d+
  options:
    tags: Articles
    description: Deletes a specific article
    schema/204: No Content
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
    parameters:
      articleId:
        type: entity:node
        description: The ID of the article to delete
  methods: [DELETE]

mantle2.articles.check_expired:
  path: '/v2/articles/check_expired'
  defaults:
    _controller: '\Drupal\mantle2\Controller\ArticlesController::checkExpiredArticles'
    _title: 'Check Expired Articles [Admin Only]'
  requirements:
    _access: 'TRUE'
  options:
    tags: Articles
    description: Checks for expired articles
    schema/204: No Content
    schema/400: Bad Request
    schema/401: Unauthorized
    schema/403: Forbidden
    schema/404: Not Found
  methods: [POST]
